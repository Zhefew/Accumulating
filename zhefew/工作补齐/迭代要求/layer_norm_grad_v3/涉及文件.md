```
// 核函数
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_recompute_gamma_beta_impl.h
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_recompute_backward_impl.h
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_recompute.h
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_grouped_reduce_big_n_impl.h
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_grouped_reduce_big_m_impl.h
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_grouped_reduce.h
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_base.h
ops/norm/layer_norm_grad_v3/op_kernel/v35/layer_norm_grad_v3_api.h
ops/norm/layer_norm_grad_v3/op_kernel/layer_norm_grad_v3_apt.cpp









// 测试代码 
ops/built-in/tests/ut/TestCaseOwner.txt
ops/built-in/tests/ut/ops_test/LayerNormGradV3/test_layer_norm_grad_v3_proto.cpp
ops/built-in/tests/ut/op_tiling_test/test_layer_norm_grad_v3_tiling.cpp
ops/built-in/tests/ut/graph_fusion/ai_core/layernorm_training_fusion_test.cpp
ops/built-in/tests/ut/graph_fusion/ai_core/layernorm_special_four_grads_training_fusion_test.cpp
ops/built-in/tests/ut/graph_fusion/ai_core/layernorm_grad_v3_fusion_pass_test.cpp
ops/built-in/tests/ut/graph_fusion/ai_core/fusion_pass_control_list/fusion_pass_control_list.cpp
ops/built-in/tests/ut/fast_op_test/layer_norm_grad_v3/test_layer_norm_grad_v3.cpp
ops/built-in/tests/ut/fast_op_test/layer_norm_grad_v3/layer_norm_grad_v3_tiling.h
ops/built-in/tests/ut/fast_op_test/layer_norm_grad_v3/CMakeLists.txt
ops/built-in/tests/st/LayerNormGradV3/test_layer_norm_grad_v3_custom.py
ops/built-in/tests/st/LayerNormGradV3/LayerNormGrad_static_ascend910b.json
ops/built-in/tests/st/LayerNormGradV3/LayerNormGrad_dynamic_ascend910b.json







// tbe相关文件  op信息配置
ops/built-in/tbe/op_info_cfg/parser/gen_tiling_headers.py
ops/built-in/tbe/op_info_cfg/parser/ascendc_tiling_cfg.py
ops/built-in/tbe/op_info_cfg/parser/ascendc_config.json
ops/built-in/tbe/op_info_cfg/ai_core/ascend910/aic-ascend910-ops-info.ini

// tbe相关文件  op实现
ops/built-in/tbe/impl/dynamic/binary_query_register.py
ops/built-in/tbe/impl/ascendc/layer_norm_grad_v3/layer_norm_grad_v3_workspace.h
ops/built-in/tbe/impl/ascendc/layer_norm_grad_v3/layer_norm_grad_v3_transpose.h
ops/built-in/tbe/impl/ascendc/layer_norm_grad_v3/layer_norm_grad_v3_single_read.h
ops/built-in/tbe/impl/ascendc/layer_norm_grad_v3/layer_norm_grad_v3_common.h
ops/built-in/tbe/impl/ascendc/layer_norm_grad_v3/layer_norm_grad_v3.cpp
// tiling适配
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/README.md
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_workspace_tiling.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_transpose_tiling.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_tiling_base.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_tiling.h
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_tiling.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_single_read_tiling.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_recompute_tiling.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_grouped_reduce_big_n_tiling.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_grouped_reduce_big_m_tiling.cc
ops/built-in/op_tiling/runtime/layer_norm_grad_v3/layer_norm_grad_v3_common_tiling.cc
ops/built-in/op_tiling/CMakeLists.txt
ops/built-in/op_tiling/aos_optiling_files.cmake
// proto算子原型接口
ops/built-in/op_proto/nn_norm_ops.cc
ops/built-in/op_proto/inc/nn_norm_ops.h

// host侧算子实现
ops/built-in/op_host/layer_norm_grad_v3.cpp
ops/built-in/op_host/CMakeLists.txt


// op_api单算子api接口
ops/built-in/op_api/src/level2/aclnn_layer_norm_backward.cpp
ops/built-in/op_api/src/level0/layer_norm_grad_v3.cpp
ops/built-in/op_api/inc/level0/layer_norm_grad_v3.h
ops/built-in/op_api/CMakeLists.txt
ops/built-in/op_api/aos_opapi_files.cmake
ops/built-in/op_api/aclnn_common_l0_files.cmake

// 二进制脚本
ops/built-in/kernel/binary_script/binary_simplified_key_mode.ini
ops/built-in/kernel/binary_script/binary_json_cfg.ini
ops/built-in/kernel/binary_script/binary_implmode_default.ini
// 二进制配置
ops/built-in/kernel/binary_config/binary_config.csv
ops/built-in/kernel/binary_config/ascend910b/LayerNormGradV3/layer_norm_grad_v3.json
ops/built-in/kernel/binary_config/ascend910_95/LayerNormGradV3/layer_norm_grad_v3.json
ops/built-in/kernel/binary_config/ascend910_93/LayerNormGradV3/layer_norm_grad_v3.json

//融合相关
ops/built-in/fusion_pass/graph_fusion/ai_core/layernormgradv3_fusion_pass.h
ops/built-in/fusion_pass/graph_fusion/ai_core/layernormgradv3_fusion_pass.cc
ops/built-in/fusion_pass/graph_fusion/ai_core/layernorm_training_fusion_pass.cc
ops/built-in/fusion_pass/graph_fusion/ai_core/layernorm_special_training_fusion_pass.cc
ops/built-in/fusion_pass/graph_fusion/ai_core/layernorm_special_four_grads_training_fusion_pass.cc
ops/built-in/fusion_pass/common/config/fusion_config.json

classify_rule.yaml
```

1. kernel修改支持list_bool output_mask字段,用于控制pd_x,pd_gamma,pd_beta是否输出
2. ~~原型新增output_mask字段,描述为仅支持david~~
	1. 修改ops/built-in/op_proto/inc/nn_norm_ops.h,reg_op增加attr,并书写对应注释
3. 二进制配置添加910B的attr
4. op_tiling等交付件适配
5. 二进制发布
我的理解需要修改
1 修改tiling,读这个attr,把attr的结果写入tiling_Data中
2 修改kernel,根据tiling_Data判断是否调用dx 的kernel或者dgamma, dbeta的kernel
3 修改二进制配置的json,增加attr, 所有soc都要修改
4 op_host修改
5 修改aclnn 修改l0 op, 修改l2调用l0 的入参,传入outputMask


1.在 REG_OP 中添加 Attr内容并添加注释
2.layer_norm_grad_v3_tiling.h添加 bool output_mask[3]字段


aclboolarray
para_check.REQUIRED_INPUT, para_check



layer_norm_grad_v3支持output_mask

代码基本开发完毕
代码覆盖率有问题, 正在补充ut用例

但是预估后期测试工作量很大, 可能有很多坑要踩

问题:

1. dtype怕架构不支持list_bool, 目前设置的是list_int, 打算打通之后改回list_bool看会不会出问题
2. 跑ut的时候, 好像并没有用原型的定义(我原型定义的时候设定了默认初始值, 但是在跑ut的时候会有空), 目前是在op_tiling里把参数初始值定好之后, 再传入参数更新
3. 
